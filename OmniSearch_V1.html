<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é›™å­—å…¸æ‰¹æ¬¡æŸ¥è©¢å·¥å…·</title>
    
    <style>
        /* --- 1. CSS è®Šæ•¸å®šç¾© (æ ¸å¿ƒæ§åˆ¶å™¨) --- */
        :root {
            /* === é è¨­ï¼šæ·ºè‰²æ¨¡å¼ (Light Mode / åŸºæ–¼ V27.0) === */
            --bg-gradient: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
            --text-color: #2d3436; /* æ·±ç°å­— */
            
            /* ç»ç’ƒæè³ª */
            --glass-bg: rgba(255, 255, 255, 0.65);
            --glass-border: rgba(255, 255, 255, 0.8);
            --glass-shadow: 0 8px 32px 0 rgba(100, 100, 111, 0.15);
            
            /* è¼¸å…¥æ¡† */
            --input-bg: rgba(255, 255, 255, 0.8);
            --input-focus-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            
            /* æ–‡å­—ç™¼å…‰ (æ·ºè‰²æ¨¡å¼ä¸‹å¾ˆå¼±æˆ–æ²’æœ‰) */
            --text-glow: none;
            
            /* æŒ‰éˆ•ä¸»é¡Œè‰² (æ·ºè‰²æ¨¡å¼ï¼šè¼ƒæ·±æ²ˆï¼Œå°æ¯”åº¦é«˜) */
            --btn-cambridge: #0088AA;
            --btn-dreye: #28a745;
            --btn-all: #6f42c1;
            
            /* æŒ‰éˆ•æ–‡å­—è‰² */
            --btn-text: #2d3436;
            
            /* è­¦å‘Šè‰² */
            --warning-color: #d63031;
        }

        [data-theme="dark"] {
            /* === åˆ‡æ›å¾Œï¼šæ·±è‰²æ¨¡å¼ (Dark Mode / åŸºæ–¼ V26.0) === */
            --bg-gradient: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            --text-color: #ffffff; /* ç™½å­— */
            
            /* ç»ç’ƒæè³ª */
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.2);
            --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.6);
            
            /* è¼¸å…¥æ¡† */
            --input-bg: rgba(0, 0, 0, 0.3);
            --input-focus-shadow: 0 0 25px rgba(255, 255, 255, 0.2);
            
            /* æ–‡å­—ç™¼å…‰ (æ·±è‰²æ¨¡å¼ä¸‹å¼·çƒˆ) */
            --text-glow: 0 0 15px rgba(255, 255, 255, 0.3);
            
            /* æŒ‰éˆ•ä¸»é¡Œè‰² (æ·±è‰²æ¨¡å¼ï¼šè¢å…‰éœ“è™¹ï¼Œå¼·èª¿ç™¼å…‰) */
            --btn-cambridge: #00d2ff;
            --btn-dreye: #00ff88;
            --btn-all: #d580ff;
            
            /* æŒ‰éˆ•æ–‡å­—è‰² */
            --btn-text: #ffffff;
            
            /* è­¦å‘Šè‰² */
            --warning-color: #ff7675;
        }

        /* --- 2. å…¨å±€ä½ˆå±€ --- */
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            padding: 40px 20px; 
            text-align: center; 
            background: var(--bg-gradient); 
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            transition: all 0.6s ease-in-out; /* å¹³æ»‘åˆ‡æ›å‹•ç•« */
            position: relative;
            overflow-x: hidden;
        }

        /* --- 3. æ¶²æ…‹ç»ç’ƒé€šç”¨é¡åˆ¥ --- */
        .liquid-glass {
            background: var(--glass-bg);
            backdrop-filter: blur(14px);
            -webkit-backdrop-filter: blur(14px);
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
            border-radius: 24px;
            transition: all 0.4s ease;
        }

        /* --- 4. æ¨™é¡Œèˆ‡æ–‡å­— --- */
        h2 { 
            font-weight: 300;
            letter-spacing: 2px;
            margin-bottom: 30px;
            text-shadow: var(--text-glow);
            transition: all 0.5s ease;
        }

        .warning-text {
            font-size: 0.9em;
            margin-bottom: 25px;
            font-weight: 600;
            color: var(--warning-color);
            opacity: 0.9;
            transition: color 0.5s ease;
        }

        /* --- 5. è¼¸å…¥æ¡† --- */
        #wordInput { 
            width: 90%; 
            max-width: 550px; 
            padding: 20px; 
            font-size: 18px; 
            line-height: 1.6; 
            margin-bottom: 40px;
            color: var(--text-color);
            outline: none;
            background: var(--input-bg);
            border: 1px solid var(--glass-border);
        }
        #wordInput::placeholder {
            color: var(--text-color);
            opacity: 0.5;
        }
        #wordInput:focus {
            box-shadow: var(--input-focus-shadow), inset 0 0 10px rgba(255,255,255,0.1);
            border-color: var(--btn-cambridge); /* èšç„¦æ™‚ä½¿ç”¨ä¸»è‰²èª¿ */
        }

        /* --- 6. æŒ‰éˆ•æ¨£å¼ (Liquid Glass + Qå½ˆ) --- */
        .button-group {
            display: flex;
            gap: 25px;
            margin-bottom: 40px;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap; 
        }

        .search-button { 
            padding: 15px 35px; 
            font-size: 16px; 
            font-weight: 600;
            cursor: pointer; 
            white-space: nowrap;
            color: var(--btn-text);
            
            /* é€æ˜èƒŒæ™¯ï¼Œä¾è³´ Glass æ•ˆæœ */
            background: rgba(255, 255, 255, 0.05); 
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            
            /* é‚Šæ¡†èˆ‡ Q å½ˆå‹•ç•« */
            border-width: 1px;
            border-style: solid;
            border-radius: 50px;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
            position: relative;
        }

        /* åŠæ©‹æŒ‰éˆ• (è—è‰²) */
        #cambridgeButton { 
            border-color: var(--btn-cambridge);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }
        #cambridgeButton:hover { 
            transform: translateY(-5px) scale(1.05);
            background: rgba(255, 255, 255, 0.1);
            border-color: var(--btn-cambridge);
            box-shadow: 0 0 20px var(--btn-cambridge), inset 0 0 10px var(--btn-cambridge);
            text-shadow: 0 0 5px var(--btn-cambridge);
        }

        /* Dr.eye æŒ‰éˆ• (ç¶ è‰²) */
        #dreyeButton { 
            border-color: var(--btn-dreye);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }
        #dreyeButton:hover { 
            transform: translateY(-5px) scale(1.05);
            background: rgba(255, 255, 255, 0.1);
            border-color: var(--btn-dreye);
            box-shadow: 0 0 20px var(--btn-dreye), inset 0 0 10px var(--btn-dreye);
            text-shadow: 0 0 5px var(--btn-dreye);
        }

        /* ä¸€éµæŸ¥è©¢æŒ‰éˆ• (ç´«è‰²ã€åœ“å½¢æ°´æ»´) */
        #allButton {
            width: 70px;
            height: 70px;
            padding: 0;
            border-radius: 50%; /* æ­£åœ“ */
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            border-color: var(--btn-all);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }
        #allButton:hover {
            transform: translateY(-8px) scale(1.15) rotate(10deg);
            background: rgba(255, 255, 255, 0.1);
            border-color: var(--btn-all);
            box-shadow: 0 0 25px var(--btn-all), inset 0 0 10px var(--btn-all);
            text-shadow: 0 0 5px var(--btn-all);
        }

        /* --- 7. èªªæ˜å€å¡Š --- */
        .templates { 
            width: 90%;
            max-width: 550px;
            padding: 30px; 
            text-align: left;
            margin-bottom: 50px;
        }
        .templates h3 { 
            margin-top: 0;
            border-bottom: 1px solid var(--glass-border);
            padding-bottom: 10px;
            opacity: 0.8;
        }
        .templates ul { list-style: none; padding: 0; }
        .templates li { margin-bottom: 8px; }

        /* --- 8. ä¸»é¡Œåˆ‡æ›æŒ‰éˆ• (æ¼‚æµ®) --- */
        #themeToggle {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            color: var(--text-color);
            cursor: pointer;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: 100;
            backdrop-filter: blur(10px);
            box-shadow: var(--glass-shadow);
        }
        #themeToggle:hover {
            transform: rotate(180deg) scale(1.1);
            box-shadow: 0 0 15px var(--text-color);
        }

    </style>
</head>
<body>

    <button id="themeToggle" onclick="toggleTheme()" title="åˆ‡æ›æ·±æ·ºè‰²æ¨¡å¼">ğŸŒ™</button>

    <h2>ğŸ“š é›™å­—å…¸æ‰¹æ¬¡æŸ¥è©¢å·¥å…·</h2>

    <p class="warning-text">âš ï¸ é»æ“ŠæŒ‰éˆ•ç„¡åæ‡‰æ™‚ï¼Œè«‹å‹™å¿…å˜—è©¦ã€Œé‡æ–°æ•´ç†ã€(Ctrl/Cmd + Shift + R) ã€‚</p>

    <textarea id="wordInput" class="liquid-glass" rows="6" placeholder="è«‹è¼¸å…¥å–®å­—ï¼Œä¸€è¡Œä¸€å€‹ã€‚ä¾‹å¦‚ï¼š&#10;paradigm&#10;subsume&#10;tacit&#10;elicit&#10;ad hoc&#10;adage"></textarea>

    <div class="button-group">
        <button id="cambridgeButton" class="search-button liquid-glass" onclick="openDictionaries(0)">åŠæ©‹è©å…¸</button>
        <button id="dreyeButton" class="search-button liquid-glass" onclick="openDictionaries(1)">è­¯å…¸é€š</button>
        <button id="allButton" class="search-button liquid-glass" onclick="openAllDictionaries()" title="ä¸€éµæŸ¥è©¢å…¨éƒ¨">ğŸŸ£</button> 
    </div>

    <div class="templates liquid-glass">
        <h3>ğŸ¯ ä½¿ç”¨èªªæ˜</h3>
        <ul>
            <li><strong>åŠæ©‹è©å…¸</strong>ï¼šå·¦å´æŒ‰éˆ• (è—å…‰)</li>
            <li><strong>Dr.eye</strong>ï¼šä¸­é–“æŒ‰éˆ• (ç¶ å…‰)</li>
            <li><strong>ä¸€éµå…¨é–‹</strong>ï¼šå³å´åœ“å½¢æŒ‰éˆ• (ç´«å…‰)</li>
        </ul>
    </div>

    <script>
        // --- 1. ä¸»é¡Œåˆ‡æ›é‚è¼¯ ---
        function toggleTheme() {
            const body = document.body;
            const toggleButton = document.getElementById('themeToggle');
            const currentTheme = body.getAttribute('data-theme');
            
            if (currentTheme === 'dark') {
                // åˆ‡æ›å›æ·ºè‰²æ¨¡å¼
                body.removeAttribute('data-theme');
                toggleButton.textContent = 'ğŸŒ™'; // é¡¯ç¤ºæœˆäº® (è¡¨ç¤ºå¯åˆ‡åˆ°æ·±è‰²)
            } else {
                // åˆ‡æ›åˆ°æ·±è‰²æ¨¡å¼
                body.setAttribute('data-theme', 'dark');
                toggleButton.textContent = 'â˜€ï¸'; // é¡¯ç¤ºå¤ªé™½ (è¡¨ç¤ºå¯åˆ‡åˆ°æ·ºè‰²)
            }
        }
        
        // --- 2. å­—å…¸ç¶²å€æ¨¡æ¿ ---
        const DICTIONARY_TEMPLATES = [
            // åŠæ©‹è©å…¸: ä½¿ç”¨ç²¾ç°¡è·¯å¾‘ï¼Œçµå°¾ä¿ç•™æ–œç·šï¼Œè®“ç¨‹å¼è‡ªå‹•æ‹¼æ¥
            "https://dictionary.cambridge.org/zht/%E8%A9%9E%E5%85%B8/%E8%8B%B1%E8%AA%9E-%E6%BC%A2%E8%AA%9E-%E7%B9%81%E9%AB%94/",
            // Dr.eye è­¯å…¸é€š
            "https://yun.dreye.com/dict_new/dict.php?w="
        ];

        const BASE_DELAY = 400; 

        // --- 3. é–‹å•Ÿå–®ä¸€å­—å…¸ ---
        function openDictionaries(dictionaryIndex, isBatchMode = false) {
            const wordInput = document.getElementById('wordInput');
            const inputContent = wordInput.value.trim(); 

            if (!inputContent) {
                alert('è«‹åœ¨æ–‡æœ¬å€è¼¸å…¥è‡³å°‘ä¸€å€‹å–®å­—ï¼');
                return;
            }
            
            const wordsToSearch = inputContent.split('\n')
                                              .map(word => word.trim())
                                              .filter(word => word.length > 0);

            if (wordsToSearch.length === 0) {
                alert('æ–‡æœ¬å€å…§æ²’æœ‰æ‰¾åˆ°æœ‰æ•ˆçš„å–®å­—ã€‚');
                return;
            }

            if (!isBatchMode) {
                wordInput.value = '';
                wordInput.focus();
            }

            let totalDelay = 0; 
            const targetTemplate = DICTIONARY_TEMPLATES[dictionaryIndex];
            
            wordsToSearch.forEach((word, index) => {
                totalDelay += BASE_DELAY;

                setTimeout(() => {
                    let finalUrl = "";
                    
                    if (dictionaryIndex === 0) {
                        // åŠæ©‹è©å…¸é‚è¼¯ï¼šè½‰å°å¯« + ç©ºæ ¼è®Šé€£å­—è™Ÿ
                        const cambridgeWordFormatted = word.toLowerCase().replace(/\s/g, '-');
                        finalUrl = targetTemplate + cambridgeWordFormatted;
                        
                    } else if (dictionaryIndex === 1) {
                        // Dr.eye é‚è¼¯ï¼šç©ºæ ¼è®ŠåŠ è™Ÿ
                        const dreyeWord = word.replace(/\s/g, '+');
                        finalUrl = targetTemplate + dreyeWord + "&hidden_codepage=01"; 
                        
                    } else {
                        finalUrl = targetTemplate + encodeURIComponent(word);
                    }
                    
                    window.open(finalUrl, '_blank'); 
                    
                    if (!isBatchMode && index === wordsToSearch.length - 1) {
                         setTimeout(() => {
                            const dictName = dictionaryIndex === 0 ? 'åŠæ©‹è©å…¸' : 'Dr.eye è­¯å…¸é€š';
                            alert(`âœ… ${dictName} æ‰€æœ‰ ${wordsToSearch.length} å€‹å–®å­—çš„æŸ¥è©¢å·²å®Œæˆé–‹å•Ÿï¼`);
                         }, 1000); 
                    }
                    
                }, totalDelay); 
            });

            return totalDelay; 
        }

        // --- 4. ä¸€éµæŸ¥è©¢å…¨éƒ¨ ---
        function openAllDictionaries() {
             const wordInput = document.getElementById('wordInput');
             const inputContent = wordInput.value.trim(); 

            if (!inputContent) {
                alert('è«‹åœ¨æ–‡æœ¬å€è¼¸å…¥è‡³å°‘ä¸€å€‹å–®å­—ï¼');
                return;
            }
            
            const wordsToSearch = inputContent.split('\n')
                                              .map(word => word.trim())
                                              .filter(word => word.length > 0);

            if (wordsToSearch.length === 0) {
                alert('æ–‡æœ¬å€å…§æ²’æœ‰æ‰¾åˆ°æœ‰æ•ˆçš„å–®å­—ã€‚');
                return;
            }

            const cambridgeDelay = openDictionaries(0, true);
            
            // å»¶é² 100ms å¾ŒåŸ·è¡Œ Dr.eye
            setTimeout(() => {
                 openDictionaries(1, true);
                 
                 wordInput.value = '';
                 wordInput.focus();
                 
                 setTimeout(() => {
                    alert(`âœ… é›™å­—å…¸å…± ${wordsToSearch.length * 2} å€‹åˆ†é å·²å…¨éƒ¨é–‹å•Ÿï¼`);
                 }, 1000 + (wordsToSearch.length * BASE_DELAY)); 

            }, cambridgeDelay + 100); 
        }
    </script>
</body>
</html>
